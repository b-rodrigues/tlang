; This file tells Dune how to build the library and executable
; from the source files in this 'src' directory.

(library
 (name t_lang_lib)         ; Internal name for the library
 (public_name t_lang)      ; The name used by other projects if published
 (preprocess (pps menhir))   ; Use the Menhir preprocessor
 (menhir
  (modules parser))          ; Specify which module is a Menhir parser
 (ocamllex lexer)            ; Specify which module is an Ocamllex lexer
 (libraries csv))            ; List dependencies

(executable
 (name repl)               ; The name of the output executable (repl.exe)
 (modes (native exe))      ; Build a native executable
 (modules repl)            ; The main module for the executable
 (libraries t_lang_lib menhirLib)) ; Link against our library and Menhir's 
