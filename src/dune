; src/dune

(library
 (name t_lang_lib)
 (public_name t_lang)
 (preprocess (pps menhir))
 (menhir (modules parser))
 (ocamllex lexer)
 (libraries csv)

 ; List all modules for the library.
 ; The order must respect dependencies.
 (modules
  ast
  eval_helpers

  ; --- Individual Package Functions ---
  packages_core_read_csv
  ; packages_core_print (when added)
  ; packages_colcraft_select (when added)

  ; --- The main package loader ---
  packages

  ; --- Core Compiler ---
  parser
  lexer
  eval
 )
)

(executable
 (name repl)
 (modes (native exe))
 (modules repl)
 (libraries t_lang_lib menhirLib))
